(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(t,e,n){t.exports=n(186)},156:function(t,e){},157:function(t,e){},158:function(t,e){},186:function(t,e,n){"use strict";n.r(e);var i=n(68),o=n(1),a=n(3),r=n(8),s=n(7),c=n(9),u=n(14),p=n.n(u),l=n(84),d=n(153),h=n(135),f={lightsPosition:[-125,50.5,5e3,-122.8,48.5,8e3],ambientRatio:.2,diffuseRatio:.5,specularRatio:.3,lightsStrength:[1,0,2,0],numberOfLights:2},w=function(t){function e(){return Object(o.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this.props,e=t.viewport,n=t.postmap,o=t.statistics;if(!n)return null;var a=Object(i.a)({},n,{features:n.features.filter(function(t){return t.properties.POSTCODE in o.postcodes})}),r=function(t,e,n){var i=t.properties.POSTCODE;return i in o.postcodes?(o.postcodes[i].r-o.minprice)/(3750-o.minprice)*n:e},s=new h.a({id:"geojson",data:a,opacity:.3,stroked:!1,filled:!0,extruded:!0,wireframe:!0,fp64:!0,getElevation:function(t){return r(t,0,5e3)},getFillColor:function(t){return[255*(e=r(t,0,1)),140,200*(1-e)];var e},getLineColor:function(t){return[255,255,255]},lightSettings:f,pickable:Boolean(this.props.onHover),onHover:this.props.onHover});return p.a.createElement(h.b,Object.assign({},e,{layers:[s],initWebGLParameters:!0}))}}],[{key:"defaultViewport",get:function(){return{latitude:52.2125708,longitude:4.9636486,zoom:7,maxZoom:16,pitch:5,bearing:0}}}]),e}(u.Component),m=n(134),b=(n(182),n(184),"map/postcodemap.wsg.json"),g=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={viewport:Object(i.a)({},w.defaultViewport,{width:500,height:500}),data:null,statistics:null},Promise.all([fetch(b),fetch("generated/2018-10-24.json")]).then(function(t){return Promise.all(t.map(function(t){return t.json()}))}).then(function(t){n.setState({data:t[0],statistics:t[1]})}).catch(function(t){console.warn(t),m.toast.error("Could not load the map data")}),n}return Object(c.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize.bind(this)),this._resize()}},{key:"_resize",value:function(){this._onViewportChange({width:window.innerWidth,height:window.innerHeight})}},{key:"_onViewportChange",value:function(t){this.setState({viewport:Object(i.a)({},this.state.viewport,t)})}},{key:"render",value:function(){var t=this.state,e=t.viewport,n=t.data,i=t.statistics;return p.a.createElement("div",null,p.a.createElement(m.ToastContainer,null),p.a.createElement(d.a,Object.assign({},e,{onViewportChange:this._onViewportChange.bind(this),mapboxApiAccessToken:"pk.eyJ1IjoiY29lbnM5NyIsImEiOiJjam5objg4YWQwNWVlM3B0ZHd0NGV2aDdpIn0.0Jg6jNjAROAafiP9QB_i6w"}),p.a.createElement(w,{viewport:e,postmap:n,statistics:i})))}}]),e}(u.Component);Object(l.render)(p.a.createElement(g,null),document.getElementById("root"))}},[[119,2,1]]]);
//# sourceMappingURL=main.c33a8195.chunk.js.map