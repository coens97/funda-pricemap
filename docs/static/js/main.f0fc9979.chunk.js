(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,n){e.exports=n(318)},210:function(e,t){},211:function(e,t){},212:function(e,t){},318:function(e,t,n){"use strict";n.r(t);var a=n(84),i=n(2),o=n(4),r=n(8),s=n(7),c=n(9),l=n(10),u=n.n(l),d=n(94),p=n(180),m=n(123),h={lightsPosition:[-125,50.5,5e3,-122.8,48.5,8e3],ambientRatio:.2,diffuseRatio:.5,specularRatio:.3,lightsStrength:[1,0,2,0],numberOfLights:2},f=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.viewport,n=e.postmap,i=e.statistics;if(!n)return null;var o=Object(a.a)({},n,{features:n.features.filter(function(e){return e.properties.POSTCODE in i.postcodes})}),r=function(e,t,n){var a=e.properties.POSTCODE;return a in i.postcodes?(i.postcodes[a].r-i.minprice)/(3750-i.minprice)*n:t},s=new m.a({id:"geojson",data:o,opacity:.3,stroked:!1,filled:!0,extruded:!0,wireframe:!0,fp64:!0,getElevation:function(e){return r(e,0,5e3)},getFillColor:function(e){return[255*(t=r(e,0,1)),140,200*(1-t)];var t},getLineColor:function(e){return[255,255,255]},lightSettings:h,pickable:Boolean(this.props.onHover),onHover:this.props.onHover});return u.a.createElement(m.b,Object.assign({},t,{layers:[s],initWebGLParameters:!0}))}}],[{key:"defaultViewport",get:function(){return{latitude:52.2125708,longitude:4.9636486,zoom:7,maxZoom:16,pitch:5,bearing:0}}}]),t}(l.Component),v=n(121),w=(n(236),n(238),n(176)),g=n(178),b=n(122),j=n(179);n(86).b.add(j.a);var O="map/postcodemap.wsg.json",E="generated/overview.json",k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={viewport:Object(a.a)({},f.defaultViewport,{width:500,height:500}),data:null,statistics:null,overview:null,loading:!0,overviewLoaded:!1},Promise.all([fetch(O),fetch("generated/2018-10-25.slaap.4.json"),fetch(E)]).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(e){n.setState({data:e[0],statistics:e[1],overview:e[2],loading:!1,overviewLoaded:!0})}).catch(function(e){console.warn(e),v.toast.error("Could not load the map data")}),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize.bind(this)),this._resize()}},{key:"_resize",value:function(){this._onViewportChange({width:window.innerWidth,height:window.innerHeight})}},{key:"_onViewportChange",value:function(e){this.setState({viewport:Object(a.a)({},this.state.viewport,e)})}},{key:"render",value:function(){var e=this.state,t=e.viewport,n=e.data,a=e.statistics;return u.a.createElement("div",null,u.a.createElement(v.ToastContainer,null),this.state.loading&&u.a.createElement("div",{className:"loaderBox"},u.a.createElement("div",{className:"loaderContainer"},u.a.createElement(w.BounceLoader,{sizeUnit:"px",size:150,margin:"0 auto",color:"#43c92c",loading:!0})),u.a.createElement("h3",null,"Loading rescources...")),this.state.overviewLoaded&&u.a.createElement(g.slide,null,u.a.createElement("div",{className:"sociallinks"},u.a.createElement("a",{className:"icon-link",target:"_blank",href:"https://github.com/coens97/funda-pricemap"},u.a.createElement(b.a,{icon:["fab","github"],size:"3x"})),u.a.createElement("a",{className:"icon-link",target:"_blank",href:"https://www.linkedin.com/in/coen-stange/"},u.a.createElement(b.a,{className:"font-icon",icon:["fab","linkedin"],size:"3x"})))),u.a.createElement(p.a,Object.assign({},t,{mapStyle:"mapbox://styles/mapbox/streets-v10",onViewportChange:this._onViewportChange.bind(this),mapboxApiAccessToken:"pk.eyJ1IjoiY29lbnM5NyIsImEiOiJjam5objg4YWQwNWVlM3B0ZHd0NGV2aDdpIn0.0Jg6jNjAROAafiP9QB_i6w"}),u.a.createElement(f,{viewport:t,postmap:n,statistics:a})))}}]),t}(l.Component);Object(d.render)(u.a.createElement(k,null),document.getElementById("root"))}},[[196,2,1]]]);
//# sourceMappingURL=main.f0fc9979.chunk.js.map