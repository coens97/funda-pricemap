{"ast":null,"code":"/* eslint-disable quotes, no-console */\n\n/* global console */\nimport isBrowser from '../utils/is-browser';\nvar ERR_HEADLESSGL_LOAD = \"WebGL not available in Node.js, install using \\\"npm install gl\\\".\";\nvar ERR_HEADLESSGL_NOT_AVAILABLE = 'Failed to create WebGL context in Node.js, headless gl not available';\nvar ERR_HEADLESSGL_FAILED = 'Failed to create WebGL context in Node.js, headless gl returned null';\nexport var headlessGL = null;\n\nif (!isBrowser) {\n  try {\n    headlessGL = module.require('gl');\n  } catch (error) {\n    console.error();\n    console.error(\"\".concat(ERR_HEADLESSGL_LOAD, \"\\n\").concat(error.message));\n  }\n}\n\nexport var isWebglAvailable = isBrowser || headlessGL; // Create headless gl context (for running under Node.js)\n\nexport function createHeadlessContext(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      opts = _ref.opts,\n      onError = _ref.onError;\n  var webgl1 = opts.webgl1,\n      webgl2 = opts.webgl2;\n\n  if (webgl2 && !webgl1) {\n    return onError('headless-gl does not support WebGL2');\n  }\n\n  if (!headlessGL) {\n    return onError(ERR_HEADLESSGL_NOT_AVAILABLE);\n  }\n\n  var gl = headlessGL(width, height, opts);\n\n  if (!gl) {\n    return onError(ERR_HEADLESSGL_FAILED);\n  }\n\n  return gl;\n}","map":null,"metadata":{},"sourceType":"module"}