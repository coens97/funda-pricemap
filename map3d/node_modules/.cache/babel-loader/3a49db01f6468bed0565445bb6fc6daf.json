{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\"; //\n// A top-level composite render pass, that manages render state\n//\n// Attribution: This class and the multipass system were inspired by\n// the THREE.js EffectComposer and *Pass classes\n\nimport CompositePass from './composite-pass';\nimport RenderState from './render-state';\n\nvar MultiPassRenderer =\n/*#__PURE__*/\nfunction (_CompositePass) {\n  _inherits(MultiPassRenderer, _CompositePass);\n\n  function MultiPassRenderer(gl, props) {\n    var _this;\n\n    _classCallCheck(this, MultiPassRenderer);\n\n    props = Array.isArray(props) ? {\n      passes: props\n    } : props;\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MultiPassRenderer).call(this, gl, Object.assign({\n      id: 'multi-pass'\n    }, props)));\n    _this.renderState = new RenderState(gl, props);\n    return _this;\n  } // Override render() to just forward the call\n\n\n  _createClass(MultiPassRenderer, [{\n    key: \"render\",\n    value: function render(animationProps) {\n      this.renderState.reset();\n      var _this$props$passes = this.props.passes,\n          passes = _this$props$passes === void 0 ? [] : _this$props$passes;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = passes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var pass = _step.value;\n          pass.render(this.renderState, animationProps);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return this;\n    }\n  }]);\n\n  return MultiPassRenderer;\n}(CompositePass);\n\nexport { MultiPassRenderer as default };","map":null,"metadata":{},"sourceType":"module"}